(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{8309:(e,r,s)=>{Promise.resolve().then(s.bind(s,1185))},1185:(e,r,s)=>{"use strict";s.d(r,{default:()=>i});var t=s(5155),n=s(2115);let a=(0,s(1106).UU)("https://ltqkbtfdjvslqktjtbod.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx0cWtidGZkanZzbHFrdGp0Ym9kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4MjE1NzgsImV4cCI6MjA3MjM5NzU3OH0.RnZQZ3QmYrcedLK-IefXCQhTeNFJOUNmU7O0f5HGkLg");async function l(e){let{email:r,fullName:s,phone:t,requestType:n,requestDetails:l}=e;try{let{data:e,error:i}=await a.from("rgpd_requests").insert({email:r,full_name:s,phone:t,request_type:n,request_details:l,status:"pending"});if(i)return console.error("Erreur lors de l'enregistrement de la demande RGPD:",i),{success:!1,error:i};return{success:!0,data:e}}catch(e){return console.error("Erreur lors de l'enregistrement de la demande RGPD:",e),{success:!1,error:e}}}function i(){let[e,r]=(0,n.useState)({email:"",fullName:"",phone:"",requestType:"",requestDetails:""}),[s,a]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[d,u]=(0,n.useState)(""),c=async s=>{s.preventDefault(),a(!0),u("");try{if(!e.email||!e.fullName||!e.requestType){u("Veuillez remplir tous les champs obligatoires.");return}(await l({email:e.email,fullName:e.fullName,phone:e.phone||void 0,requestType:e.requestType,requestDetails:e.requestDetails||void 0})).success?(o(!0),r({email:"",fullName:"",phone:"",requestType:"",requestDetails:""})):u("Une erreur est survenue lors de l'envoi de votre demande. Veuillez r\xe9essayer ou nous contacter directement.")}catch(e){console.error("Erreur lors de la soumission:",e),u("Une erreur est survenue lors de l'envoi de votre demande. Veuillez r\xe9essayer ou nous contacter directement.")}finally{a(!1)}},m=e=>{r(r=>({...r,[e.target.name]:e.target.value}))};return i?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[(0,t.jsx)("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Demande envoy\xe9e avec succ\xe8s !"}),(0,t.jsx)("p",{className:"text-green-700",children:"Votre demande RGPD a \xe9t\xe9 enregistr\xe9e. Nous vous r\xe9pondrons dans un d\xe9lai maximum d'1 mois \xe0 l'adresse email indiqu\xe9e."})]}),(0,t.jsx)("button",{onClick:()=>o(!1),className:"text-brand hover:underline",children:"Faire une nouvelle demande"})]}):(0,t.jsxs)("form",{onSubmit:c,className:"space-y-6",children:[d&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:d}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom complet ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:e.fullName,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Votre nom et pr\xe9nom"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Adresse email ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"votre@email.com"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:["T\xe9l\xe9phone ",(0,t.jsx)("span",{className:"text-gray-500",children:"(optionnel)"})]}),(0,t.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"+33 6 12 34 56 78"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"requestType",className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de demande ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"requestType",name:"requestType",value:e.requestType,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"S\xe9lectionnez le type de demande"}),[{value:"access",label:"Droit d'acc\xe8s - Obtenir une copie de mes donn\xe9es"},{value:"rectification",label:"Droit de rectification - Corriger mes donn\xe9es"},{value:"deletion",label:"Droit d'effacement - Supprimer mes donn\xe9es"},{value:"portability",label:"Droit \xe0 la portabilit\xe9 - R\xe9cup\xe9rer mes donn\xe9es"},{value:"opposition",label:"Droit d'opposition - M'opposer au traitement"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"requestDetails",className:"block text-sm font-medium text-gray-700 mb-2",children:["D\xe9tails de votre demande ",(0,t.jsx)("span",{className:"text-gray-500",children:"(optionnel)"})]}),(0,t.jsx)("textarea",{id:"requestDetails",name:"requestDetails",rows:4,value:e.requestDetails,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent resize-none",placeholder:"Pr\xe9cisez votre demande si n\xe9cessaire..."})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\uD83D\uDD12 S\xe9curit\xe9 et confidentialit\xe9"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsx)("li",{children:"• Vos donn\xe9es sont trait\xe9es de mani\xe8re s\xe9curis\xe9e et confidentielle"}),(0,t.jsx)("li",{children:"• Une pi\xe8ce d'identit\xe9 pourra vous \xeatre demand\xe9e pour v\xe9rifier votre identit\xe9"}),(0,t.jsx)("li",{children:"• Nous vous r\xe9pondrons dans un d\xe9lai maximum d'1 mois"}),(0,t.jsx)("li",{children:"• Cette demande est gratuite"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-brand text-white py-3 px-6 rounded-lg font-medium hover:bg-brand/90 focus:ring-2 focus:ring-brand focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Envoi en cours...":"Envoyer ma demande RGPD"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"En soumettant cette demande, vous acceptez que nous traitions vos donn\xe9es personnelles uniquement dans le but de r\xe9pondre \xe0 votre demande RGPD."})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[106,441,517,358],()=>r(8309)),_N_E=e.O()}]);